!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=6)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class s{constructor(t,e){this.canvas=document.getElementById("canvas"),this.canvas.width=t,this.canvas.height=e,this.ctx=this.canvas.getContext("2d")}static getInstance(){return s.instance||(s.instance=new s(288,512)),this.instance}runWithSence(t){setTimeout(()=>self.requestAnimationFrame(()=>t.start()),500)}getCtx(){return this.ctx}getCanvas(){return this.canvas}}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.size=e.v2=e.Size=e.Vec2=void 0;class s{constructor(t,e){this.x=t,this.y=e}neg(){return new s(-this.x,-this.y)}add(t){this.x+=t.x,this.y+=t.y}plus(t){return new s(this.x+t.x,this.y+t.y)}sqrt(){return Math.sqrt(this.x*this.x+this.y*this.y)}scale(t){return new s(this.x*t,this.y*t)}}e.Vec2=s;class n{constructor(t,e){this.width=t,this.height=e}}e.Size=n,e.v2=function(t,e){return new s(t,e)},e.size=function(t,e){return new n(t,e)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(1);class n{constructor(){this.angle=0,this.vec=s.v2(0,0),this.timer=0,this.a=0,this.timeCount=0,this.cal=null,this._isRotation=!1}copy(t){this.vec=t.vec,this.timer=t.timer,this.a=t.a,this.cal=t.cal,this.timeCount=0,this.angle=t.angle,this.isRotation=this.isRotation}isRotation(){return!0}isEndAction(){return this.timer<=this.timeCount}getDtAngle(t){let e=this.timeCount;return t+this.timeCount>this.timer?this.timeCount=this.timer:this.timeCount+=t,(this.timeCount-e)*this.angle/this.timer}getDtv2(t){let e=this.cal();t+this.timeCount>this.timer?this.timeCount=this.timer:this.timeCount+=t;let i=this.cal();return this.vec.scale(i-e)}clone(){let t=new n;return t.vec=this.vec,t.timer=this.timer,t.a=this.a,t.cal=this.cal,t}static moveBy(t,e){let i=new n;return i.vec=t,i.timer=e,i.cal=i.linear,i}quadratic(){return this.timeCount/this.timer*4*(1-this.timeCount/this.timer)}linear(){return this.timeCount/this.timer}easeIn(){return this.timeCount/this.timer*2*(1-this.timeCount/this.timer/2)}static jumpBy(t,e){let i=new n;return i.vec=t,i.timer=e,i.cal=i.quadratic,i}static rotate(t,e){let i=new n;return i.angle=t,i.timer=e,i._isRotation=!0,i}static moveByEaseIn(t){}}e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(1);e.default=class{constructor(){this.name="",this.position=s.v2(0,0),this.color="black",this.action=null,this.velocity=s.v2(0,0),this.force=s.v2(0,0),this.angle=0}addAction(t){this.action=t}checkClick(t){return!1}translate(t){this.position.x+=t.x,this.position.y+=t.y}update(t){this.position.x+=this.velocity.x*t,this.position.y+=this.velocity.y*t+this.force.y*t*t/2,this.velocity.y+=this.force.y*t}render(){}runAction(t){this.action&&!this.action.isEndAction()?this.action.isRotation()?this.angle+=this.action.getDtAngle(t):this.position.add(this.action.getDtv2(t)):this.action=null}getName(){return this.name}setName(t){this.name=t}getPosition(){return this.position}setPosition(t){this.position=t}getAngle(){return this.angle}setAngle(t){this.angle=t}getColor(){return this.color}setColor(t){this.color=t}getVelocity(){return this.velocity}setVelocity(t){this.velocity=t}addVelocity(t){this.velocity.add(t)}addForce(t){this.force.add(t)}getForce(){return this.force}setForce(t){this.force=t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class s{constructor(){this._images=new Array}getByName(t){return this._images.find(e=>e.name==t)}getAllByName(t){return this._images.filter(e=>e.name.includes(t))}getAllByPreName(t){return this._images.filter(e=>e.name.includes(t))}removeByName(t){const e=this._images.findIndex(e=>e.name==t);e>-1&&this._images.splice(e,1)}push(t,e){let i=new Image;i.src=e,this._images.push({name:t,image:i})}static getInstance(){return s.instance||(s.instance=new s),this.instance}}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONSTANT=void 0;class s{}e.CONSTANT=s,s.PIPEDELAY=1600,s.SPEED=100,s.BACKGROUND="background",s.GROUND="ground",s.BLUEBIRD="bluebird",s.BLUEBIRDFRAME="bluebirdanimation",s.GREENPIPEUP="greenpipeup",s.GREENPIPEDOWN="greenpipedown",s.CLOUD="cloud"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i(7);const s=i(0),n=i(12),r=i(4),o=i(5);function a(){!function(){let t=r.default.getInstance();t.push(o.CONSTANT.BACKGROUND,"./sprites/background-night.png"),t.push(o.CONSTANT.GROUND,"./sprites/base.png"),t.push(o.CONSTANT.BLUEBIRD,"./sprites/bluebird-midflap.png"),t.push(o.CONSTANT.BLUEBIRDFRAME+"0","./sprites/bluebird-upflap.png"),t.push(o.CONSTANT.BLUEBIRDFRAME+"1","./sprites/bluebird-midflap.png"),t.push(o.CONSTANT.BLUEBIRDFRAME+"2","./sprites/bluebird-downflap.png"),t.push(o.CONSTANT.GREENPIPEDOWN,"./sprites/pipe-green-down.png"),t.push(o.CONSTANT.GREENPIPEUP,"./sprites/pipe-green-up.png"),t.push(o.CONSTANT.CLOUD,"./sprites/cloud.png")}();let t=s.default.getInstance(),e=new n.default;e.initAwaitScreen(),t.runWithSence(e)}window.onload=()=>{a()}},function(t,e,i){var s=i(8);"string"==typeof s&&(s=[[t.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};i(10)(s,n);s.locals&&(t.exports=s.locals)},function(t,e,i){(t.exports=i(9)(!1)).push([t.i,"html, body {\r\n    height: 100%;\r\n    background-color: rgb(47, 47, 47);\r\n    margin: 0px;\r\n}\r\n\r\ncanvas {\r\n    background-color: rgb(179, 255, 255);\r\n    padding-left: 0;\r\n    padding-right: 0;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n    display: block;\r\n    /* width: 100%; */\r\n    /* height:100%; */\r\n}",""])},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=function(t,e){var i=t[1]||"",s=t[3];if(!s)return i;if(e&&"function"==typeof btoa){var n=(o=s,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),r=s.sources.map((function(t){return"/*# sourceURL="+s.sourceRoot+t+" */"}));return[i].concat(r).concat([n]).join("\n")}var o;return[i].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i})).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var s={},n=0;n<this.length;n++){var r=this[n][0];"number"==typeof r&&(s[r]=!0)}for(n=0;n<t.length;n++){var o=t[n];"number"==typeof o[0]&&s[o[0]]||(i&&!o[2]?o[2]=i:i&&(o[2]="("+o[2]+") and ("+i+")"),e.push(o))}},e}},function(t,e,i){var s,n,r={},o=(s=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===n&&(n=s.apply(this,arguments)),n}),a=function(t){return document.querySelector(t)},h=function(t){var e={};return function(t){if("function"==typeof t)return t();if(void 0===e[t]){var i=a.call(this,t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}}(),c=null,u=0,l=[],d=i(11);function p(t,e){for(var i=0;i<t.length;i++){var s=t[i],n=r[s.id];if(n){n.refs++;for(var o=0;o<n.parts.length;o++)n.parts[o](s.parts[o]);for(;o<s.parts.length;o++)n.parts.push(b(s.parts[o],e))}else{var a=[];for(o=0;o<s.parts.length;o++)a.push(b(s.parts[o],e));r[s.id]={id:s.id,refs:1,parts:a}}}}function f(t,e){for(var i=[],s={},n=0;n<t.length;n++){var r=t[n],o=e.base?r[0]+e.base:r[0],a={css:r[1],media:r[2],sourceMap:r[3]};s[o]?s[o].parts.push(a):i.push(s[o]={id:o,parts:[a]})}return i}function g(t,e){var i=h(t.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var s=l[l.length-1];if("top"===t.insertAt)s?s.nextSibling?i.insertBefore(e,s.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),l.push(e);else if("bottom"===t.insertAt)i.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var n=h(t.insertInto+" "+t.insertAt.before);i.insertBefore(e,n)}}function m(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=l.indexOf(t);e>=0&&l.splice(e,1)}function v(t){var e=document.createElement("style");return t.attrs.type="text/css",y(e,t.attrs),g(t,e),e}function y(t,e){Object.keys(e).forEach((function(i){t.setAttribute(i,e[i])}))}function b(t,e){var i,s,n,r;if(e.transform&&t.css){if(!(r=e.transform(t.css)))return function(){};t.css=r}if(e.singleton){var o=u++;i=c||(c=v(e)),s=_.bind(null,i,o,!1),n=_.bind(null,i,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",y(e,t.attrs),g(t,e),e}(e),s=C.bind(null,i,e),n=function(){m(i),i.href&&URL.revokeObjectURL(i.href)}):(i=v(e),s=A.bind(null,i),n=function(){m(i)});return s(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;s(t=e)}else n()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=o()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var i=f(t,e);return p(i,e),function(t){for(var s=[],n=0;n<i.length;n++){var o=i[n];(a=r[o.id]).refs--,s.push(a)}t&&p(f(t,e),e);for(n=0;n<s.length;n++){var a;if(0===(a=s[n]).refs){for(var h=0;h<a.parts.length;h++)a.parts[h]();delete r[a.id]}}}};var w,N=(w=[],function(t,e){return w[t]=e,w.filter(Boolean).join("\n")});function _(t,e,i,s){var n=i?"":s.css;if(t.styleSheet)t.styleSheet.cssText=N(e,n);else{var r=document.createTextNode(n),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(r,o[e]):t.appendChild(r)}}function A(t,e){var i=e.css,s=e.media;if(s&&t.setAttribute("media",s),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}function C(t,e,i){var s=i.css,n=i.sourceMap,r=void 0===e.convertToAbsoluteUrls&&n;(e.convertToAbsoluteUrls||r)&&(s=d(s)),n&&(s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var o=new Blob([s],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(o),a&&URL.revokeObjectURL(a)}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var i=e.protocol+"//"+e.host,s=i+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var n,r=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?t:(n=0===r.indexOf("//")?r:0===r.indexOf("/")?i+r:s+r.replace(/^\.\//,""),"url("+JSON.stringify(n)+")")}))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(2),n=i(0),r=i(13),o=i(1),a=i(14),h=i(15),c=i(17),u=i(18),l=i(4),d=i(5);var p;!function(t){t[t.Await=0]="Await",t[t.Playing=1]="Playing",t[t.GameOver=2]="GameOver"}(p||(p={}));class f extends r.default{constructor(){super(),this.play=t=>{this.score=new a.default("0"),this.score.setFont("40px Gotham, Helvetica Neue, sans-serif"),this.score.setPosition(o.v2(this.canvas.width/2,140)),this.score.setColor("red"),this.score.setAlign("center"),this.add(this.score,30),this.fly(),this.ground[0].setVelocity(o.v2(-d.CONSTANT.SPEED,0)),this.ground[1].setVelocity(o.v2(-d.CONSTANT.SPEED,0)),this.canvas.removeEventListener("mousedown",this.play),this._addScore=setTimeout(this.addScore,3200),this._appPipe=setTimeout(()=>this.addpipe(),1e3),this._addCloud=setTimeout(()=>this.addCloud(),100),this.canvas.addEventListener("mousedown",this.clickEvent),this.gameState=p.Playing,this.removeByName("helper")},this.replay=t=>{this.removeAll(),this.initAwaitScreen(),this._pipes.splice(0,this._pipes.length),this._cloud.splice(0,this._cloud.length),this.canvas.removeEventListener("mousedown",this.replay)},this.endGame=()=>{this._pipes.forEach(t=>{t.pipeUp.setVelocity(o.v2(0,0)),t.pipeDown.setVelocity(o.v2(0,0))}),this._cloud.forEach(t=>{t.setVelocity(o.v2(0,0))}),this.ground[0].setVelocity(o.v2(0,0)),this.ground[1].setVelocity(o.v2(0,0)),this.birdAni.stop(),clearTimeout(this._appPipe),clearTimeout(this._addScore),clearTimeout(this._addCloud),this.gameState=p.GameOver,this.canvas.removeEventListener("mousedown",this.clickEvent),setTimeout(()=>this.canvas.addEventListener("mousedown",this.replay),1500);let t=new a.default("Game Over");t.setFont("40px Gotham, Helvetica Neue, sans-serif"),t.setPosition(o.v2(this.canvas.width/2,200)),t.setColor("blue"),t.setAlign("center");let e=new a.default("Highscore: "+this.highScore);this.intScore>this.highScore&&(this.highScore=this.intScore,e.setText("New Highscore: "+this.highScore)),e.setFont("30px Gotham, Helvetica Neue, sans-serif"),e.setPosition(o.v2(this.canvas.width/2,250)),e.setColor("red"),e.setAlign("center");let i=new a.default("Tap to replay");i.setFont("40px Gotham, Helvetica Neue, sans-serif"),i.setPosition(o.v2(this.canvas.width/2,300)),i.setColor("blue"),i.setAlign("center"),setTimeout(()=>this.add(t,100),200),setTimeout(()=>this.add(e,100),600),setTimeout(()=>this.add(i,100),1e3)},this.addScore=()=>{this.intScore++,this.score.setText(""+this.intScore),this._addScore=setTimeout(this.addScore,d.CONSTANT.PIPEDELAY)},this.clickEvent=t=>{if(!this.gameState){let t=this.canvas;return this.bird.setPosition(o.v2(t.width/4,t.height/2-this.bird.getSize().height/2)),this.gameState=p.Playing,void(this.intScore=0)}this.bird.getPosition().y>=40&&this.fly(),this.gameState=p.Playing;let e=t.x-this.canvas.offsetLeft,i=t.y-this.canvas.offsetTop;this.checkClick(o.v2(e,i))},this.gameState=p.Await,this.intScore=0,this.highScore=0,this.ground=new Array,this._pipes=new Array,this._cloud=new Array;let t=n.default.getInstance();this.canvas=t.getCanvas(),this.gameState=p.Await,this.imageLoading=l.default.getInstance()}initAwaitScreen(){let t=this.imageLoading,e=this.canvas;this.background=new h.default(t.getByName(d.CONSTANT.BACKGROUND).image);var i=new h.default(t.getByName(d.CONSTANT.GROUND).image);i.setPosition(o.v2(0,e.height-i.getSize().height)),this.ground.push(i),(i=new h.default(t.getByName(d.CONSTANT.GROUND).image)).setPosition(o.v2(i.getSize().width,e.height-i.getSize().height)),this.ground.push(i),this.bird=new h.default(t.getByName(d.CONSTANT.BLUEBIRD).image),this.bird.setPosition(o.v2(e.width/4,e.height/2-this.bird.getSize().height/2));let s=new c.default;t.getAllByPreName(d.CONSTANT.BLUEBIRDFRAME).forEach(t=>s.addFrame(t.image)),s.setTimer(.1),this.bird.addAnimation(s),this.birdAni=s,setTimeout(()=>this.birdAni.start(),1e3),this.helper=new a.default("Tap to play"),this.helper.setFont("30px Gotham, Helvetica Neue, sans-serif"),this.helper.setPosition(o.v2(this.canvas.width/2,200)),this.helper.setColor("red"),this.helper.setName("helper"),this.helper.setAlign("center"),this.add(this.background,0),this.add(this.ground[0],10),this.add(this.ground[1],10),this.add(this.bird,5),this.add(this.helper,60),this.canvas.addEventListener("mousedown",this.play),this.gameState=p.Await,this.intScore=0}addpipe(){let t=this.imageLoading,e=this.randomInt(160),i=new h.default(t.getByName(d.CONSTANT.GREENPIPEDOWN).image);i.setPosition(o.v2(this.canvas.width,-250+e)),i.setVelocity(o.v2(-d.CONSTANT.SPEED,0));let s=new h.default(t.getByName(d.CONSTANT.GREENPIPEUP).image);s.setPosition(o.v2(this.canvas.width,180+e)),s.setVelocity(o.v2(-d.CONSTANT.SPEED,0)),this.add(i,2),this.add(s,2),this._pipes.push({pipeUp:s,pipeDown:i}),this._appPipe=setTimeout(()=>this.addpipe(),d.CONSTANT.PIPEDELAY)}addCloud(){let t=l.default.getInstance(),e=this.randomInt(150),i=new h.default(t.getByName(d.CONSTANT.CLOUD).image);i.scale(Math.random()+.8),i.setPosition(o.v2(450,e)),i.setVelocity(o.v2(-d.CONSTANT.SPEED/2,0)),this.add(i,1),this._cloud.push(i),this._addCloud=setTimeout(()=>this.addCloud(),2*d.CONSTANT.PIPEDELAY)}isRectCollieRect(t,e){let i=t.getPosition(),s=t.getSize(),n=e.getPosition(),r=e.getSize();return Math.abs(i.x-n.x+(s.width-r.width)/2)<=(s.width+r.width)/2&&Math.abs(i.y-n.y+(s.height-r.height)/2)<=(s.height+r.height)/2}isCollisionWithPipe(){return this._pipes.filter(t=>this.isRectCollieRect(this.bird,t.pipeDown)||this.isRectCollieRect(this.bird,t.pipeUp)).length>0}fly(){this.birdAni.start(),this.bird.setVelocity(o.v2(0,-300)),this.bird.setForce(o.v2(0,1e3));let t=this.bird.getAngle(),e=s.default.rotate(-20-t,.25),i=s.default.rotate(0,.15),n=s.default.rotate(110,.5);clearTimeout(this._birdDelay),this._birdDelay=setTimeout(()=>this.birdAni.stop(),500),this.bird.addAction(new u.default(e,i,n))}update(t){if(this.gameState==p.Playing){if(this.ground[0].getPosition().x<-this.ground[0].getSize().width){this.ground[0].translate(o.v2(2*this.ground[0].getSize().width,-0));let t=this.ground[1];this.ground[1]=this.ground[0],this.ground[0]=t}this._cloud.length>0&&this._cloud[0].getPosition().x<-400&&(this.remove(this._cloud[0]),delete this._cloud[0],this._cloud.splice(0,1)),this._pipes.length>0&&this._pipes[0].pipeUp.getPosition().x<-200&&(this.remove(this._pipes[0].pipeUp),this.remove(this._pipes[0].pipeDown),delete this._pipes[0].pipeUp,delete this._pipes[0].pipeDown,this._pipes.splice(0,1)),(this.isCollisionWithPipe()||n.default.getInstance().getCanvas().height<=this.bird.getPosition().y+134)&&this.endGame()}this.gameState==p.GameOver&&n.default.getInstance().getCanvas().height<=this.bird.getPosition().y+134&&(this.bird.setPosition(o.v2(this.bird.getPosition().x,n.default.getInstance().getCanvas().height-134)),this.bird.setForce(o.v2(0,0)),this.bird.setVelocity(o.v2(0,0))),super.update(t)}randomInt(t){return Math.round(Math.random()*t)}}e.default=f},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(0);e.default=class{constructor(){this._subject=new Array,this.previous=new Date}render(){this._subject.forEach(t=>t.subject.render())}clear(){let t=s.default.getInstance().getCanvas();s.default.getInstance().getCtx().clearRect(0,0,t.width,t.height)}add(t,e){let i=this._subject.findIndex(t=>t.index>e);if(-1==i)this._subject.push({subject:t,index:e});else{let s=this._subject.splice(i,this._subject.length-i);this._subject.push({subject:t,index:e}),this._subject.push(...s)}}remove(t){const e=this._subject.findIndex(e=>e.subject==t);e>-1&&this._subject.splice(e,1)}removeByName(t){const e=this._subject.findIndex(e=>e.subject.getName()==t);e>-1&&this._subject.splice(e,1)}removeAll(){this._subject.splice(0,this._subject.length)}processInput(){}start(){this.update(0)}update(t){let e=new Date,i=(e.getTime()-this.previous.getTime())/1e3;this.previous=e,this.processInput(),this._subject.forEach(t=>{t.subject.update(i),t.subject.runAction(i)}),this.clear(),this.render(),this.loopEvent=window.requestAnimationFrame(()=>this.update(t))}stop(){window.cancelAnimationFrame(this.loopEvent)}checkClick(t){for(let e=this._subject.length-1;e>=0;e--)if(this._subject[e].subject.checkClick(t))return this._subject[e].subject;return null}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(3),n=i(0);class r extends s.default{constructor(t){super(),this.text=t,this.font="40px Gotham, Helvetica Neue, sans-serif",this.align="left"}setFont(t){this.font=t}setAlign(t){this.align=t}setText(t){this.text=t}update(t){}render(){let t=n.default.getInstance().getCtx();t.font=this.font,t.fillStyle=this.color,t.textAlign=this.align,t.fillText(this.text,this.position.x,this.position.y)}}e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(0),n=i(1),r=i(16);class o extends r.default{constructor(t){super(n.size(t.width,t.height)),this.image=t,this.animation=null}addAnimation(t){this.animation=t}getSize(){return n.size(this.image.width,this.image.height)}render(){let t=s.default.getInstance().getCtx();t.save(),t.translate(this.getPosition().x+this.image.width/2,this.getPosition().y+this.image.height/2),t.rotate(Math.PI*this.angle/180),this.animation&&this.animation.isRunning()?t.drawImage(this.animation.getFrame(),-this.image.width/2,-this.image.height/2,this.image.width,this.image.height):t.drawImage(this.image,-this.image.width/2,-this.image.height/2,this.image.width,this.image.height),t.restore()}update(t){super.update(t),this.animation&&this.animation.isRunning()&&this.animation.update(t)}}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(3),n=i(0),r=i(1);class o extends s.default{constructor(t){super(),this.size=t}scale(t){this.setSize(r.size(this.getSize().width*t,this.getSize().height*t))}render(){let t=n.default.getInstance().getCtx();t.fillStyle=this.color,t.fillRect(this.position.x,this.position.y,this.size.width,this.size.height)}checkClick(t){let e=t.x-this.position.x,i=t.y-this.position.y;return e>=0&&i>=0&&e<=this.size.width&&i<=this.size.height}getSize(){return this.size}setSize(t){this.size=t}}e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(){this.frame=new Array,this.timeCount=0,this.timer=0,this._isRunning=!1,this.iFrame=0}setTimer(t){this.timer=t}addFrame(t){this.frame.push(t)}getFrame(){return this.frame[this.iFrame]}start(){this._isRunning=!0,this.timeCount=0,this.iFrame=0}stop(){this._isRunning=!1}isRunning(){return this._isRunning}update(t){this.timeCount+=t,this.timeCount>=this.timer&&(this.timeCount-=this.timer,this.iFrame+=1,this.iFrame==this.frame.length&&(this.iFrame=0))}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(2);class n extends s.default{constructor(...t){super(),this._actions=t;let e=this._actions.splice(0,1)[0];this.copy(e)}isEndAction(){if(this._actions.length){if(super.isEndAction()){let t=this._actions.splice(0,1)[0];this.copy(t)}return!1}return super.isEndAction()}getDtv2(t){return super.getDtv2(t)}}e.default=n}]);
//# sourceMappingURL=bundle.js.map